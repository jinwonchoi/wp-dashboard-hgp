2023-12-07 13:26:36,178 INFO com.gencode.issuetool.unittest.DashboardServiceTest [main] Starting DashboardServiceTest on DESKTOP-CI83DGN with PID 32112 (started by jinno in C:\dev\workspace\java\wp-dashboard-hgp)
2023-12-07 13:26:36,182 DEBUG com.gencode.issuetool.unittest.DashboardServiceTest [main] Running with Spring Boot v2.2.2.RELEASE, Spring v5.2.2.RELEASE
2023-12-07 13:26:36,182 INFO com.gencode.issuetool.unittest.DashboardServiceTest [main] The following profiles are active: dev
2023-12-07 13:26:37,001 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-07 13:26:37,022 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 12ms. Found 0 JPA repository interfaces.
2023-12-07 13:26:37,728 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$3701a09d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-12-07 13:26:37,734 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-12-07 13:26:37,770 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-12-07 13:26:37,771 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6fa0450e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-12-07 13:26:37,779 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$5bd6434f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-12-07 13:26:37,790 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-12-07 13:26:37,875 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2023-12-07 13:26:38,049 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2023-12-07 13:26:38,220 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2023-12-07 13:26:38,294 INFO org.hibernate.Version [main] HHH000412: Hibernate Core {5.2.10.Final}
2023-12-07 13:26:38,295 INFO org.hibernate.cfg.Environment [main] HHH000206: hibernate.properties not found
2023-12-07 13:26:38,334 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2023-12-07 13:26:38,470 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2023-12-07 13:26:38,844 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-07 13:26:38,918 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-07 13:26:39,412 INFO org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor [main] Initializing ExecutorService 'clientInboundChannelExecutor'
2023-12-07 13:26:39,427 INFO org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor [main] Initializing ExecutorService 'clientOutboundChannelExecutor'
2023-12-07 13:26:39,495 DEBUG org.springframework.jdbc.core.JdbcTemplate [main] Executing SQL query [select group_id,item_key,item_value,description from common_code]
2023-12-07 13:26:39,524 DEBUG org.springframework.jdbc.core.JdbcTemplate [main] Executing SQL query [select id,plant_no,plant_name,description from plant_info where 1=1]
2023-12-07 13:26:39,534 DEBUG org.springframework.jdbc.core.JdbcTemplate [main] Executing SQL query [select id, plant_part_code, plant_part_name, plant_id, description from plant_part_info where 1=1]
2023-12-07 13:26:39,540 DEBUG org.springframework.jdbc.core.JdbcTemplate [main] Executing SQL query [select id, area_code, area_name, plant_id, size_x, size_y, size_z, description from area_info where 1=1]
2023-12-07 13:26:39,546 DEBUG org.springframework.jdbc.core.JdbcTemplate [main] Executing SQL query [select id, interior_code , interior_name, area_id, pos_x, pos_y, pos_z, size_x, size_y, size_z, description from interior_info where 1=1]
2023-12-07 13:26:39,552 DEBUG org.springframework.jdbc.core.JdbcTemplate [main] Executing SQL query [select id, facil_code, facil_name, facil_name2, plant_part_id, description from facility_info where 1=1]
2023-12-07 13:26:39,567 DEBUG org.springframework.jdbc.core.JdbcTemplate [main] Executing SQL query [select id,tag_name,tag_desc,plant_type,facility_id,alrm_type,alrm_val1,alrm_val2,trip_type,trip_val1,trip_val2,plant_no,plant_part_code,facil_code,scr_seq,val_type,func_cd,start_register,address,data_len,tag_desc2, tag_print_name, redundancy, updated_dtm,created_dtm from facil_tag_info where 1=1]
2023-12-07 13:26:39,601 DEBUG org.springframework.jdbc.core.JdbcTemplate [main] Executing SQL query [select id,device_id,org_device_id,device_type,interior_id,pmt_no,rptr_no,seq,device_desc,updated_dtm,created_dtm from iot_device_info where 1=1]
2023-12-07 13:26:39,617 DEBUG org.springframework.jdbc.core.JdbcTemplate [main] Executing SQL query [select id,device_id,org_device_id,device_type,interior_id,pmt_no,rptr_no,seq,cctv_path,cctv_userid,cctv_pwd,device_desc,updated_dtm,created_dtm from etc_device_info where 1=1]
2023-12-07 13:26:39,757 INFO com.gencode.issuetool.storage.EmbedFileSystemStorageService [main] filePath created: files\upload\dev
2023-12-07 13:26:39,763 INFO com.gencode.issuetool.storage.AttachFileSystemStorageService [main] filePath created: files\upload\dev
2023-12-07 13:26:39,904 INFO com.gencode.issuetool.storage.ProfileImgStorageService [main] filePath created: files\upload\dev
2023-12-07 13:26:40,368 INFO com.gencode.issuetool.config.WebSecurityConfig [main] configure(HttpSecurity http)
2023-12-07 13:26:40,376 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/resources/**'], []
2023-12-07 13:26:40,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/static/**'], []
2023-12-07 13:26:40,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/css/**'], []
2023-12-07 13:26:40,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/js/**'], []
2023-12-07 13:26:40,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/images/**'], []
2023-12-07 13:26:40,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/files/**'], []
2023-12-07 13:26:40,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/files/upload/**'], []
2023-12-07 13:26:40,377 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/static/profile/**'], []
2023-12-07 13:26:40,487 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65859b44, org.springframework.security.web.context.SecurityContextPersistenceFilter@7272ee51, org.springframework.security.web.header.HeaderWriterFilter@6060146b, org.springframework.web.filter.CorsFilter@d9f5fce, org.springframework.security.web.authentication.logout.LogoutFilter@3070f3e6, com.gencode.issuetool.config.JwtTokenFilter@49653791, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5940b14e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f2fb225, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45b7c97f, org.springframework.security.web.session.SessionManagementFilter@61911947, org.springframework.security.web.access.ExceptionTranslationFilter@652e345, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59262a90]
2023-12-07 13:26:40,538 INFO org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler [main] Initializing ExecutorService 'messageBrokerTaskScheduler'
2023-12-07 13:26:40,589 INFO org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor [main] Initializing ExecutorService 'brokerChannelExecutor'
2023-12-07 13:26:42,141 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2023-12-07 13:26:42,211 INFO org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler [main] Starting...
2023-12-07 13:26:42,212 INFO org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2023-12-07 13:26:42,213 INFO org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler [main] Started.
2023-12-07 13:26:42,227 INFO com.gencode.issuetool.unittest.DashboardServiceTest [main] Started DashboardServiceTest in 6.305 seconds (JVM running for 7.232)
2023-12-07 13:26:42,490 INFO com.gencode.issuetool.logpresso.client.LogpressoClient [main] url:http://dt.rozetatech.com:3000/hg/api/iot/iotinfo
2023-12-07 13:26:42,490 INFO com.gencode.issuetool.logpresso.client.LogpressoClient [main] body:{"apikey":"K8XWymm1dfTP3mh5KKheQ5acptMnOHt8LwYqRgTPMg66/MJTevbYlSwSnC/mOfa6"}
2023-12-07 13:26:43,459 INFO com.gencode.issuetool.logpresso.client.LogpressoClient [main] printLog=true
2023-12-07 13:26:43,459 INFO com.gencode.issuetool.logpresso.client.LogpressoClient [main] resultJson:{"iotinfo":{"CFD":"58","TOTAL":"66","ABNORMAL":"0","CCTV":"6","FD":"2"}}
2023-12-07 13:26:43,466 DEBUG com.gencode.issuetool.logpresso.client.LogpressoClient [main] result = {iotinfo={CFD=58, TOTAL=66, ABNORMAL=0, CCTV=6, FD=2}}
2023-12-07 13:26:43,467 INFO com.gencode.issuetool.service.LogpressoAPIService [main] {iotinfo={CFD=58, TOTAL=66, ABNORMAL=0, CCTV=6, FD=2}}
2023-12-07 13:26:43,489 INFO org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler [SpringContextShutdownHook] Stopping...
2023-12-07 13:26:43,489 INFO org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler [SpringContextShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2023-12-07 13:26:43,489 INFO org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler [SpringContextShutdownHook] Stopped.
2023-12-07 13:26:43,490 INFO org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor [SpringContextShutdownHook] Shutting down ExecutorService 'brokerChannelExecutor'
2023-12-07 13:26:43,491 INFO org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler [SpringContextShutdownHook] Shutting down ExecutorService 'messageBrokerTaskScheduler'
2023-12-07 13:26:43,493 INFO org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor [SpringContextShutdownHook] Shutting down ExecutorService 'clientOutboundChannelExecutor'
2023-12-07 13:26:43,493 INFO org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor [SpringContextShutdownHook] Shutting down ExecutorService 'clientInboundChannelExecutor'
2023-12-07 13:26:43,494 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-07 13:26:43,496 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2023-12-07 13:26:43,562 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
